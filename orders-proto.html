<head>
  <title>Orders-proto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="container">
    <header class="navbar">
      <div class="navbar-inner">
        <a class="brand" href="/">Orders</a>
      </div>
    </header>
    {{> loginButtons}}
    {{>userProfile }}

    {{> tables}}
    {{> main}}

    {{> introduction }}

  </div>
</body>

<template name="introduction">
  <H2> 아직 테스트중입니다. </H2>
  주문하러 오셨어요? 일단 로그인 하시고, 본인이 주문하려는 메뉴를 입력하고 Add 버튼 누르세요. 같이 오신 일행분들도 같은 방법으로 로그인하고 입력하라고 하세요. 그러면 매번 각자가 주문할 때마다 주문 내용이 아래쪽에 모두 합쳐집니다.
</template>

<template name="main">

    <div id="main" class="row-fluid">
      <h2> Mine </h2>
      {{> ordersMine}}
      {{#if currentUser}}
        {{> addMenuRow }}
      {{else}}
          <h2 class="text-center">
          <span class="label label-warning"> Please sign in to order </span>
          </h2>
      {{/if}}
      <h2> For All </h2>
      {{> ordersAll}}
    </div>
</template>

<template name="userProfile">
  {{#if currentUser}}
  <div class="row">
  <form class="form-inline" role="form">
    <div class="form-group pull-right">
      <label for="displayName">Name</label>
      <input type="text" class="form-inline" id="displayName" placeholder="Your name" value="{{displayName}}">
      <button type="submit" class="form-inline btn btn-sm btn-default">Change</button>
    </div>
  </form>
  </div>
  {{/if}}
</template>

<template name="ordersAll">
  <ul class="list-group list-group-flush">
    {{#each orders}}
      {{> orderItem}}
    {{/each}}
  </ul>
</template>

<template name="ordersMine">
  <ul class="list-group list-group-flush">
    {{#each orders}}
      {{> orderItemMine}}
    {{/each}}
  </ul>
</template>

<template name="orderItem">
      <li class="list-group-item order-item">
        {{name}}

        <span class="glyphicon glyphicon-user"></span> 
        {{#each users}}
        <span class="label label-default"> {{userDisplayName this}} </span>
        {{/each}}
        <span class="glyphicon glyphicon-tag"> </span>
        {{price}}
        <span class="badge pull-right"> {{qty}} </span>
      </li>
 </template>

 <template name="orderItemMine">
      <li class="list-group-item order-item">
        {{name}}

        <span class="glyphicon glyphicon-tag"> </span> {{price}}
        <button class="btn btn-danger btn-sm remove-my-order">
           <span class="glyphicon glyphicon-remove"> </span>
        </button>
        <span class="badge pull-right"> {{qty}} </span>
      </li>
 </template>

 <template name="addMenuRow">
  <form role="form">
    <div class="form-group">
      <label for="neworder">Enter order</label>
      <input type="text" class="form-control" id="neworder" placeholder="Mene to add">
    </div>
    <button type="submit" class="form-control btn btn-success">Add</button>
  </form>
</template>
